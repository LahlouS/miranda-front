import{c as I,a as F,l as J,t as S}from"../chunks/DgMzrqux.js";import"../chunks/Dfo8cZ4o.js";import{aC as Y,h as B,aD as K,k as Q,az as V,m as W,a as X,p as Z,s as b,c as u,g as v,G as C,t as H,b as $,F as k,r as m,n as tt,I as N}from"../chunks/DsZSh94P.js";import{a as D}from"../chunks/COIN8evz.js";import{s as O}from"../chunks/DkCP2Fnt.js";import{i as R}from"../chunks/BFO-mupc.js";import{i as et}from"../chunks/DdUBiRTo.js";import{p as G}from"../chunks/Dg7HLL5Q.js";import{l as U}from"../chunks/zU8o-TzL.js";import{i as at,a as rt,b as st,c as ot}from"../chunks/c86IGuWO.js";function it(r,l,c){Y(()=>{var a=B(()=>l(r,c==null?void 0:c())||{});if(c&&(a!=null&&a.update)){var e=!1,n={};K(()=>{var i=c();Q(i),e&&V(n,i)&&(n=i,a.update(i))}),e=!0}if(a!=null&&a.destroy)return()=>a.destroy()})}function lt(r){const l=JSON.parse(r);return l.data&&(l.data=st(l.data,ot.decoders)),l}function L(r){return HTMLElement.prototype.cloneNode.call(r)}function q(r,l=()=>{}){if(L(r).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const c=async({action:e,result:n,reset:i=!0,invalidateAll:d=!0})=>{n.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(r),d&&await at()),(location.origin+location.pathname===e.origin+e.pathname||n.type==="redirect"||n.type==="error")&&rt(n)};async function a(e){var h,T,w,P,x;if(((h=e.submitter)!=null&&h.hasAttribute("formmethod")?e.submitter.formMethod:L(r).method)!=="post")return;e.preventDefault();const i=new URL((T=e.submitter)!=null&&T.hasAttribute("formaction")?e.submitter.formAction:L(r).action),d=(w=e.submitter)!=null&&w.hasAttribute("formenctype")?e.submitter.formEnctype:L(r).enctype,p=new FormData(r);if(d!=="multipart/form-data"){for(const s of p.values())if(s instanceof File)throw new Error('Your form contains <input type="file"> fields, but is missing the necessary `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819.')}const E=(P=e.submitter)==null?void 0:P.getAttribute("name");E&&p.append(E,((x=e.submitter)==null?void 0:x.getAttribute("value"))??"");const y=new AbortController;let j=!1;const A=await l({action:i,cancel:()=>j=!0,controller:y,formData:p,formElement:r,submitter:e.submitter})??c;if(j)return;let f;try{const s=new Headers({accept:"application/json","x-sveltekit-action":"true"});d!=="multipart/form-data"&&s.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(d)?d:"application/x-www-form-urlencoded");const o=d==="multipart/form-data"?p:new URLSearchParams(p),t=await fetch(i,{method:"POST",headers:s,cache:"no-store",body:o,signal:y.signal});f=lt(await t.text()),f.type==="error"&&(f.status=t.status)}catch(s){if((s==null?void 0:s.name)==="AbortError")return;f={type:"error",error:s}}A({action:i,formData:p,formElement:r,update:s=>c({action:i,result:f,reset:s==null?void 0:s.reset,invalidateAll:s==null?void 0:s.invalidateAll}),result:f})}return HTMLFormElement.prototype.addEventListener.call(r,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(r,"submit",a)}}}W();g[k]="src/routes/product/new-product/+page.svelte";var ct=D(S('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 svelte-g3jc82"><div class="bg-white p-8 rounded-lg shadow-xl text-center svelte-g3jc82"><img src="/swag-fire.gif" alt="Loading animation" class="w-32 h-32 mx-auto mb-4 svelte-g3jc82"> <p class="text-gray-700 svelte-g3jc82">Go get coffee while my GPU is burning</p> <p class="text-sm text-gray-500 mt-2 svelte-g3jc82">This might take a few moments</p></div></div>'),g[k],[[34,8,[[35,12,[[36,12],[41,12],[42,12]]]]]]),nt=D(S('<div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4 svelte-g3jc82"><p class="text-red-700 svelte-g3jc82"> </p></div>'),g[k],[[53,10,[[54,12]]]]),dt=D(S('<div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4 svelte-g3jc82"><p class="text-green-700 svelte-g3jc82"> </p></div>'),g[k],[[59,10,[[60,12]]]]),ut=D(S('<div class="relative isolate px-6 pt-14 lg:px-8 svelte-g3jc82"><div class="mx-auto max-w-2xl py-32 svelte-g3jc82"><div class="text-center mb-12 svelte-g3jc82"><h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-pink-500 animate-gradient-text svelte-g3jc82">Register New Product</h1></div> <!> <form method="POST" class="space-y-6 bg-white p-8 rounded-lg shadow-lg relative svelte-g3jc82"><!> <!> <div class="svelte-g3jc82"><label for="productType" class="block text-sm font-medium text-gray-700 mb-2 svelte-g3jc82">Product Type</label> <input type="text" name="productType" id="productType" required placeholder="e.g. electronics, fashion, accessories" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed svelte-g3jc82"> <p class="mt-1 text-sm text-gray-500 svelte-g3jc82">Separate multiple types with commas</p></div> <div class="svelte-g3jc82"><label for="description" class="block text-sm font-medium text-gray-700 mb-2 svelte-g3jc82">Product Description</label> <textarea name="description" id="description" required rows="4" placeholder="Enter a detailed description of your product..." class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed svelte-g3jc82"></textarea></div> <button type="submit" class="w-full rounded-md bg-gradient-to-r from-blue-500 to-pink-500 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:opacity-90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 disabled:opacity-50 disabled:cursor-not-allowed svelte-g3jc82"> </button></form></div></div>'),g[k],[[25,2,[[26,4,[[27,6,[[28,8]]],[47,6,[[64,8,[[65,10],[68,10],[77,10]]],[80,8,[[81,10],[84,10]]],[95,8]]]]]]]]);function g(r,l){I(new.target),Z(l,!1,g);let c=G(l,"form",8);G(l,"data",8);let a=C(!1),e=C("");const n=()=>(N(a,!0),console.log(...U("log","Form submission started")),async({result:o,update:t})=>{await t(),N(a,!1),N(e,await o.data.pid),console.log(...U("log","Form submission completed:",v(e)))});et();var i=ut(),d=u(i),p=b(u(d),2);{var E=o=>{var t=ct();F(o,t)};R(p,o=>{v(a)&&o(E)})}var y=b(p,2),j=u(y);{var z=o=>{var t=nt(),_=u(t),M=u(_,!0);m(_),m(t),H(()=>O(M,c().error)),F(o,t)};R(j,o=>{var t;(t=c())!=null&&t.error&&o(z)})}var A=b(j,2);{var f=o=>{var t=dt(),_=u(t),M=u(_);m(_),m(t),H(()=>O(M,`Product registered successfully with id ${v(e)??""} !`)),F(o,t)};R(A,o=>{var t;(t=c())!=null&&t.success&&o(f)})}var h=b(A,2),T=b(u(h),2);tt(2),m(h);var w=b(h,2),P=b(u(w),2);m(w);var x=b(w,2),s=u(x,!0);return m(x),m(y),it(y,(o,t)=>q==null?void 0:q(o,t),()=>n),m(d),m(i),H(()=>{T.disabled=v(a),P.disabled=v(a),x.disabled=v(a),O(s,v(a)?"Processing...":"Register Product")}),F(r,i),$({...J()})}X(g);export{g as component};
