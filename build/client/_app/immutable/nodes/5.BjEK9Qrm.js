import{c as G,a as F,l as I,t as S}from"../chunks/DroBwdLr.js";import"../chunks/_FgpyuGP.js";import{aD as J,i as Y,aE as B,l as K,aA as Q,m as V,a as W,p as X,s as b,c as u,g as v,I as z,t as H,b as Z,F as k,r as m,n as $,J as N}from"../chunks/g3Tmz0S3.js";import{a as D}from"../chunks/CKB5XqNR.js";import{s as O}from"../chunks/Qs_-gKkR.js";import{i as R}from"../chunks/0GM-F11P.js";import{i as tt}from"../chunks/DS3mA53_.js";import{p as et}from"../chunks/ACi1ui8k.js";import{l as C}from"../chunks/D5ilOZxg.js";import{i as rt,a as at,b as st,c as ot}from"../chunks/6CztJwP1.js";function it(a,c,l){J(()=>{var r=Y(()=>c(a,l==null?void 0:l())||{});if(l&&(r!=null&&r.update)){var e=!1,n={};B(()=>{var i=l();K(i),e&&Q(n,i)&&(n=i,r.update(i))}),e=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function lt(a){const c=JSON.parse(a);return c.data&&(c.data=st(c.data,ot.decoders)),c}function L(a){return HTMLElement.prototype.cloneNode.call(a)}function q(a,c=()=>{}){if(L(a).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const l=async({action:e,result:n,reset:i=!0,invalidateAll:d=!0})=>{n.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(a),d&&await rt()),(location.origin+location.pathname===e.origin+e.pathname||n.type==="redirect"||n.type==="error")&&at(n)};async function r(e){var h,T,w,P,x;if(((h=e.submitter)!=null&&h.hasAttribute("formmethod")?e.submitter.formMethod:L(a).method)!=="post")return;e.preventDefault();const i=new URL((T=e.submitter)!=null&&T.hasAttribute("formaction")?e.submitter.formAction:L(a).action),d=(w=e.submitter)!=null&&w.hasAttribute("formenctype")?e.submitter.formEnctype:L(a).enctype,p=new FormData(a);if(d!=="multipart/form-data"){for(const s of p.values())if(s instanceof File)throw new Error('Your form contains <input type="file"> fields, but is missing the necessary `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819.')}const E=(P=e.submitter)==null?void 0:P.getAttribute("name");E&&p.append(E,((x=e.submitter)==null?void 0:x.getAttribute("value"))??"");const y=new AbortController;let j=!1;const A=await c({action:i,cancel:()=>j=!0,controller:y,formData:p,formElement:a,submitter:e.submitter})??l;if(j)return;let f;try{const s=new Headers({accept:"application/json","x-sveltekit-action":"true"});d!=="multipart/form-data"&&s.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(d)?d:"application/x-www-form-urlencoded");const o=d==="multipart/form-data"?p:new URLSearchParams(p),t=await fetch(i,{method:"POST",headers:s,cache:"no-store",body:o,signal:y.signal});f=lt(await t.text()),f.type==="error"&&(f.status=t.status)}catch(s){if((s==null?void 0:s.name)==="AbortError")return;f={type:"error",error:s}}A({action:i,formData:p,formElement:a,update:s=>l({action:i,result:f,reset:s==null?void 0:s.reset,invalidateAll:s==null?void 0:s.invalidateAll}),result:f})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",r)}}}V();g[k]="src/routes/product/new-product/+page.svelte";var ct=D(S('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 svelte-g3jc82"><div class="bg-white p-8 rounded-lg shadow-xl text-center svelte-g3jc82"><img src="/swag-fire.gif" alt="Loading animation" class="w-32 h-32 mx-auto mb-4 svelte-g3jc82"> <p class="text-gray-700 svelte-g3jc82">Go get coffee while my GPU is burning</p> <p class="text-sm text-gray-500 mt-2 svelte-g3jc82">This might take a few moments</p></div></div>'),g[k],[[30,8,[[31,12,[[32,12],[37,12],[38,12]]]]]]),nt=D(S('<div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4 svelte-g3jc82"><p class="text-red-700 svelte-g3jc82"> </p></div>'),g[k],[[49,10,[[50,12]]]]),dt=D(S('<div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4 svelte-g3jc82"><p class="text-green-700 svelte-g3jc82"> </p></div>'),g[k],[[55,10,[[56,12]]]]),ut=D(S('<div class="relative isolate px-6 pt-14 lg:px-8 svelte-g3jc82"><div class="mx-auto max-w-2xl py-32 svelte-g3jc82"><div class="text-center mb-12 svelte-g3jc82"><h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-pink-500 animate-gradient-text svelte-g3jc82">Register New Product</h1></div> <!> <form method="POST" class="space-y-6 bg-white p-8 rounded-lg shadow-lg relative svelte-g3jc82"><!> <!> <div class="svelte-g3jc82"><label for="productType" class="block text-sm font-medium text-gray-700 mb-2 svelte-g3jc82">Product Type</label> <input type="text" name="productType" id="productType" required placeholder="e.g. electronics, fashion, accessories" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed svelte-g3jc82"> <p class="mt-1 text-sm text-gray-500 svelte-g3jc82">Separate multiple types with commas</p></div> <div class="svelte-g3jc82"><label for="description" class="block text-sm font-medium text-gray-700 mb-2 svelte-g3jc82">Product Description</label> <textarea name="description" id="description" required rows="4" placeholder="Enter a detailed description of your product..." class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed svelte-g3jc82"></textarea></div> <button type="submit" class="w-full rounded-md bg-gradient-to-r from-blue-500 to-pink-500 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:opacity-90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 disabled:opacity-50 disabled:cursor-not-allowed svelte-g3jc82"> </button></form></div></div>'),g[k],[[21,2,[[22,4,[[23,6,[[24,8]]],[43,6,[[60,8,[[61,10],[64,10],[73,10]]],[76,8,[[77,10],[80,10]]],[91,8]]]]]]]]);function g(a,c){G(new.target),X(c,!1,g);let l=et(c,"form",8),r=z(!1),e=z("");const n=()=>(N(r,!0),console.log(...C("log","Form submission started")),async({result:o,update:t})=>{await t(),N(r,!1),N(e,await o.data.pid),console.log(...C("log","Form submission completed:",v(e)))});tt();var i=ut(),d=u(i),p=b(u(d),2);{var E=o=>{var t=ct();F(o,t)};R(p,o=>{v(r)&&o(E)})}var y=b(p,2),j=u(y);{var U=o=>{var t=nt(),_=u(t),M=u(_,!0);m(_),m(t),H(()=>O(M,l().error)),F(o,t)};R(j,o=>{var t;(t=l())!=null&&t.error&&o(U)})}var A=b(j,2);{var f=o=>{var t=dt(),_=u(t),M=u(_);m(_),m(t),H(()=>O(M,`Product registered successfully with id ${v(e)??""} !`)),F(o,t)};R(A,o=>{var t;(t=l())!=null&&t.success&&o(f)})}var h=b(A,2),T=b(u(h),2);$(2),m(h);var w=b(h,2),P=b(u(w),2);m(w);var x=b(w,2),s=u(x,!0);return m(x),m(y),it(y,(o,t)=>q==null?void 0:q(o,t),()=>n),m(d),m(i),H(()=>{T.disabled=v(r),P.disabled=v(r),x.disabled=v(r),O(s,v(r)?"Processing...":"Register Product")}),F(a,i),Z({...I()})}W(g);export{g as component};
