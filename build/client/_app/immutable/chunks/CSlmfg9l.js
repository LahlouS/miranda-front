import{a9 as M,aa as Y,ab as p,O as q,g as _,I as w,ac as $,ad as x,ae as G,af as j,ag as z,ah as H,N as L,ai as K,aj as V,ak as N,al as Z,C as y,K as J,am as Q,an as W,ao as X,y as C,ap as k,aq as ee,ar as ae}from"./_SuVmlR5.js";import{s as re,g as ne}from"./DC98kA9C.js";let o=!1,O=Symbol();function se(e,a,n){const u=n[a]??(n[a]={store:null,source:q(void 0),unsubscribe:p});if(u.store!==e&&!(O in n))if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=p;else{var v=!0;u.unsubscribe=re(e,i=>{v?u.source.v=i:w(u.source,i)}),v=!1}return e&&O in n?ne(e):_(u.source)}function fe(){const e={};function a(){M(()=>{for(var n in e)e[n].unsubscribe();Y(e,O,{enumerable:!1,value:!0})})}return[e,a]}function ue(e){var a=o;try{return o=!1,[e(),o]}finally{o=a}}function D(e){for(var a=L,n=L;a!==null&&!(a.f&(K|V));)a=a.parent;try{return N(a),e()}finally{N(n)}}function le(e,a,n,u){var h;var v=(n&k)!==0,i=!z||(n&H)!==0,b=(n&Z)!==0,B=(n&ee)!==0,R=!1,s;b?[s,R]=ue(()=>e[a]):s=e[a];var U=G in e||j in e,c=b&&(((h=$(e,a))==null?void 0:h.set)??(U&&a in e&&(r=>e[a]=r)))||void 0,t=u,S=!0,P=!1,m=()=>(P=!0,S&&(S=!1,B?t=C(u):t=u),t);s===void 0&&u!==void 0&&(c&&i&&ae(a),s=m(),c&&c(s));var f;if(i)f=()=>{var r=e[a];return r===void 0?m():(S=!0,P=!1,r)};else{var A=D(()=>(v?y:J)(()=>e[a]));A.f|=x,f=()=>{var r=_(A);return r!==void 0&&(t=void 0),r===void 0?t:r}}if(!(n&Q))return f;if(c){var F=e.$$legacy;return function(r,l){return arguments.length>0?((!i||!l||F||R)&&c(l?f():r),r):f()}}var g=!1,T=!1,E=q(s),d=D(()=>y(()=>{var r=f(),l=_(E);return g?(g=!1,T=!0,l):(T=!1,E.v=r)}));return v||(d.equals=W),function(r,l){if(arguments.length>0){const I=l?_(d):i&&b?X(r):r;return d.equals(I)||(g=!0,w(E,I),P&&t!==void 0&&(t=I),C(()=>_(d))),r}return _(d)}}export{se as a,le as p,fe as s};
